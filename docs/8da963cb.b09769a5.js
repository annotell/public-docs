(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{115:function(e,n,t){"use strict";t.r(n),t.d(n,"MDXContext",(function(){return l})),t.d(n,"MDXProvider",(function(){return u})),t.d(n,"mdx",(function(){return v})),t.d(n,"useMDXComponents",(function(){return p})),t.d(n,"withMDXComponents",(function(){return s}));var a=t(0),i=t.n(a);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(){return(r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function m(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var l=i.a.createContext({}),s=function(e){return function(n){var t=p(n.components);return i.a.createElement(e,r({},n,{components:t}))}},p=function(e){var n=i.a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):c(c({},n),e)),t},u=function(e){var n=p(e.components);return i.a.createElement(l.Provider,{value:n},e.children)},b={inlineCode:"code",wrapper:function(e){var n=e.children;return i.a.createElement(i.a.Fragment,{},n)}},g=i.a.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,r=e.parentName,d=m(e,["components","mdxType","originalType","parentName"]),l=p(t),s=a,u=l["".concat(r,".").concat(s)]||l[s]||b[s]||o;return t?i.a.createElement(u,c(c({ref:n},d),{},{components:t})):i.a.createElement(u,c({ref:n},d))}));function v(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,r=new Array(o);r[0]=g;var d={};for(var c in n)hasOwnProperty.call(n,c)&&(d[c]=n[c]);d.originalType=e,d.mdxType="string"==typeof e?e:a,r[1]=d;for(var m=2;m<o;m++)r[m]=t[m];return i.a.createElement.apply(null,r)}return i.a.createElement.apply(null,t)}g.displayName="MDXCreateElement"},47:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return r})),t.d(n,"metadata",(function(){return d})),t.d(n,"rightToc",(function(){return c})),t.d(n,"default",(function(){return l}));var a=t(3),i=t(8),o=(t(0),t(115)),r={title:"annotell-input-api to kognic-io"},d={unversionedId:"a2k_migration_guide",id:"a2k_migration_guide",isDocsHomePage:!1,title:"annotell-input-api to kognic-io",description:"Overview",source:"@site/docs/a2k_migration_guide.md",slug:"/a2k_migration_guide",permalink:"/docs/a2k_migration_guide",editUrl:"https://github.com/annotell/public-docs/docs-src/docs/a2k_migration_guide.md",version:"current",sidebar:"docs",previous:{title:"The Python client",permalink:"/docs/openlabel/python-client"}},c=[{value:"Overview",id:"overview",children:[]},{value:"Breaking changes",id:"breaking-changes",children:[{value:"New packages",id:"new-packages",children:[]},{value:"Packaging and imports",id:"packaging-and-imports",children:[]},{value:"Removal of legacy code",id:"removal-of-legacy-code",children:[]},{value:"Named arguments",id:"named-arguments",children:[]}]},{value:"Non-breaking changes",id:"non-breaking-changes",children:[{value:"Validation",id:"validation",children:[]}]}],m={rightToc:c};function l(e){var n=e.components,t=Object(i.default)(e,["components"]);return Object(o.mdx)("wrapper",Object(a.default)({},m,t,{components:n,mdxType:"MDXLayout"}),Object(o.mdx)("h2",{id:"overview"},"Overview"),Object(o.mdx)("p",null,"In September 2022 Annotell rebranded as Kognic."),Object(o.mdx)("p",null,"We took opportunity to make some changes to our public Python libraries during the transition. Some of these changes are incompatible with code written against the last version of ",Object(o.mdx)("inlineCode",{parentName:"p"},"annotell-input-api")," (1.3.1 at time of writing)."),Object(o.mdx)("p",null,Object(o.mdx)("inlineCode",{parentName:"p"},"annotell-input-api")," will now only be updated to fix critical bugs. All users are encouraged to migrate to ",Object(o.mdx)("inlineCode",{parentName:"p"},"kognic-io")," as soon as possible."),Object(o.mdx)("h2",{id:"breaking-changes"},"Breaking changes"),Object(o.mdx)("h3",{id:"new-packages"},"New packages"),Object(o.mdx)("p",null,"Packages under ",Object(o.mdx)("inlineCode",{parentName:"p"},"annotell.input_api")," were moved to ",Object(o.mdx)("inlineCode",{parentName:"p"},"kognic.io"),". In most cases, updating imports is all that will be needed for client code to continue working."),Object(o.mdx)("h3",{id:"packaging-and-imports"},"Packaging and imports"),Object(o.mdx)("p",null,"Previously some classes could be imported via multiple packages due to how we had used ",Object(o.mdx)("inlineCode",{parentName:"p"},"*")," imports internally. The ",Object(o.mdx)("inlineCode",{parentName:"p"},"kognic.io.model.*")," subpackages are now stricter about which internal classes they export than their equivalents in ",Object(o.mdx)("inlineCode",{parentName:"p"},"annotell.input_api.model.*")),Object(o.mdx)("p",null,"It is no longer possible to, for example, use ",Object(o.mdx)("inlineCode",{parentName:"p"},"from kognic.io.model.input.lidars_and_cameras import *")," or ",Object(o.mdx)("inlineCode",{parentName:"p"},"from kognic.io.model.lidars_and_cameras import IMUData")," to import ",Object(o.mdx)("inlineCode",{parentName:"p"},"IMUData")," along with all other classes related to Lidar+Camera scenes."),Object(o.mdx)("div",{className:"admonition admonition-info alert alert--info"},Object(o.mdx)("div",{parentName:"div",className:"admonition-heading"},Object(o.mdx)("h5",{parentName:"div"},Object(o.mdx)("span",{parentName:"h5",className:"admonition-icon"},Object(o.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(o.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),Object(o.mdx)("div",{parentName:"div",className:"admonition-content"},Object(o.mdx)("p",{parentName:"div"},"Replace instances of ",Object(o.mdx)("inlineCode",{parentName:"p"},"from annotell.input_api.model.input.xxx import *")," with imports for specific classes from ",Object(o.mdx)("inlineCode",{parentName:"p"},"kognic.io.model.xxx")," packages, or with imports from other packages in cases where the import has broken."))),Object(o.mdx)("h3",{id:"removal-of-legacy-code"},"Removal of legacy code"),Object(o.mdx)("p",null,"Legacy calibration models were removed, having been deprecated since 2021-11."),Object(o.mdx)("div",{className:"admonition admonition-info alert alert--info"},Object(o.mdx)("div",{parentName:"div",className:"admonition-heading"},Object(o.mdx)("h5",{parentName:"div"},Object(o.mdx)("span",{parentName:"h5",className:"admonition-icon"},Object(o.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(o.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),Object(o.mdx)("div",{parentName:"div",className:"admonition-content"},Object(o.mdx)("p",{parentName:"div"},"Use the typed calibrations from ",Object(o.mdx)("inlineCode",{parentName:"p"},"kognic.io.model.calibration.camera")," and ",Object(o.mdx)("inlineCode",{parentName:"p"},"kognic.io.model.calibration.lidar")," instead of the generic ",Object(o.mdx)("inlineCode",{parentName:"p"},"annotell.input_api.model.sensors.LidarCalibration")," and ",Object(o.mdx)("inlineCode",{parentName:"p"},"CameraCalibration"),"."))),Object(o.mdx)("p",null,"The ",Object(o.mdx)("inlineCode",{parentName:"p"},"get_annotations")," method was removed, having been deprecated since 2021-09. "),Object(o.mdx)("div",{className:"admonition admonition-info alert alert--info"},Object(o.mdx)("div",{parentName:"div",className:"admonition-heading"},Object(o.mdx)("h5",{parentName:"div"},Object(o.mdx)("span",{parentName:"h5",className:"admonition-icon"},Object(o.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(o.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),Object(o.mdx)("div",{parentName:"div",className:"admonition-content"},Object(o.mdx)("p",{parentName:"div"},"Use ",Object(o.mdx)("inlineCode",{parentName:"p"},"get_project_annotations")," instead."))),Object(o.mdx)("h3",{id:"named-arguments"},"Named arguments"),Object(o.mdx)("p",null,"Many scene model objects such as ",Object(o.mdx)("inlineCode",{parentName:"p"},"Image")," and ",Object(o.mdx)("inlineCode",{parentName:"p"},"PointCloud")," were converted to use pydantic for validation. These classes must now be instanced by passing ",Object(o.mdx)("em",{parentName:"p"},"all")," non-defaulted properties as named arguments (kwargs). e.g. an ",Object(o.mdx)("inlineCode",{parentName:"p"},"Image")," now requires both ",Object(o.mdx)("inlineCode",{parentName:"p"},"filename")," and ",Object(o.mdx)("inlineCode",{parentName:"p"},"sensor_name")," to be specified."),Object(o.mdx)("div",{className:"admonition admonition-info alert alert--info"},Object(o.mdx)("div",{parentName:"div",className:"admonition-heading"},Object(o.mdx)("h5",{parentName:"div"},Object(o.mdx)("span",{parentName:"h5",className:"admonition-icon"},Object(o.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(o.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),Object(o.mdx)("div",{parentName:"div",className:"admonition-content"},Object(o.mdx)("ul",{parentName:"div"},Object(o.mdx)("li",{parentName:"ul"},"Ensure named constructor args are present for all non-defaulted fields for model classes like ",Object(o.mdx)("inlineCode",{parentName:"li"},"Image")," and ",Object(o.mdx)("inlineCode",{parentName:"li"},"PointCloud"),".",Object(o.mdx)("ul",{parentName:"li"},Object(o.mdx)("li",{parentName:"ul"},"For instance ",Object(o.mdx)("inlineCode",{parentName:"li"},"filename")," was not previously required to be a named arg, now it is.")))))),Object(o.mdx)("h2",{id:"non-breaking-changes"},"Non-breaking changes"),Object(o.mdx)("h3",{id:"validation"},"Validation"),Object(o.mdx)("p",null,"Many scene model objects (e.g. ",Object(o.mdx)("inlineCode",{parentName:"p"},"Image"),", ",Object(o.mdx)("inlineCode",{parentName:"p"},"PointCloud"),", ",Object(o.mdx)("inlineCode",{parentName:"p"},"LidarsAndCameras"),") have been converted from Python ",Object(o.mdx)("inlineCode",{parentName:"p"},"@dataclass")," to Pydantic models."),Object(o.mdx)("p",null,"Client-side validation errors will now be reported differently for these classes. Validation is stricter but the error messages are also more descriptive."),Object(o.mdx)("p",null,"Typically validation will be failed because of significant problems: using the wrong datatype for a field, or missing required parameters for an object. Server-side validation is still used to check that the content/values of the input are sound."))}l.isMDXComponent=!0}}]);